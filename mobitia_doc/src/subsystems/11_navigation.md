# 2.11 非同期サブシステム: ナビゲーション (`src/navigation/`)
このモジュールは、ロボットの経路計画と追従、自己位置推定など、ナビゲーションに関する機能を提供します。

## ナビゲーションモード (Nav Mode)
`nav` コマンドが実行されると、アプリケーションはナビゲーションモードに切り替わります。このモードは、ナビゲーションに関連する全ての機能（テスト実行、ナビゲーション開始など）の結果や状態を視覚的に表示するための専用描画モードです。地図、ロボットの自己位置、およびLiDAR計測データがリアルタイムに描画されます。

## コマンド
`nav` コマンドは、ナビゲーション機能の制御を行います。

### `nav test <path>`
指定されたパス（例: マップファイル、経路ファイル）を使用してナビゲーションテストを実行します。テストの進行状況や結果はナビゲーションモードで視覚化されます。

### `nav start <path>`
指定されたパスの経路を読み込み、ナビゲーションを開始します。ロボットの移動や経路追従の様子はナビゲーションモードで視覚化されます。

### 共通の初期処理と表示
`nav test <path>` および `nav start <path>` コマンドの実行時には、`<path>` で指定されたディレクトリから以下のファイルが読み込まれます。
- `occMap.png`: 占有格子地図の画像ファイル。
- `map_info.toml`: 地図情報（解像度、原点など）を記述した設定ファイル。
- `trajectory.txt`: ナビゲーションのターゲットポイントのXY座標（1列目と2列目）が記述されたファイル。

読み込まれた `occMap.png` は画面全体に表示されます。また、`map_info.toml` の情報に基づいて地図の原点とXY軸が目立たない色で描画されます。`trajectory.txt` から読み取られたターゲットポイントも、同様に目立たない色で地図上に表示されます。

### `nav stop`
現在実行中のナビゲーションプロセスを停止します。このコマンドの実行後、アプリケーションの描画モードはデフォルトでLiDARモードに戻ります。

## サジェスト
`nav` コマンドとそのサブコマンド (`test`, `start`, `stop`)、および `<path>` 引数は、コマンド入力時のサジェストの対象となります。
